/** ! created at <%= grunt.template.today("yyyy-mm-dd") by cqb %> */
define(["module","react","react-dom","classnames","utils/Events","utils/Dom","core/BaseComponent"],function(a,b,c,d,e,f,g){"use strict";function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function i(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function j(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var k=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),l=(b.PropTypes,function(a){function g(a){h(this,g);var b=i(this,Object.getPrototypeOf(g).call(this,a));return b.addState({offsetTop:a.offsetTop||0,offsetBottom:a.offsetBottom||0,target:a.target,offset:null}),b}return j(g,a),k(g,[{key:"componentWillUnmount",value:function(){this._isMounted=!1;var a=null;a=this.state.target?f.query(this.state.target):document.body,a=f.dom(a),e.off(a[0],"scroll",this._listener)}},{key:"componentDidMount",value:function(){var a=this;this._isMounted=!0;var b=f.dom(c.findDOMNode(this)),d=null;d=this.state.target?f.query(this.state.target):document.body,d=f.dom(d);var g=d.offset(),h=b.offset(),i=h.top-g.top-this.state.offsetTop,j=d[0].style.borderLeftWidth,k=parseFloat(d[0].style.paddingLeft),l=this._listener=function(b){a._isMounted&&(d[0].scrollTop>i?a.setState({offset:{top:d[0].scrollTop+parseFloat(a.state.offsetTop)-i,left:h.left-g.left-j-k}}):a.setState({offset:null}))};e.on(d[0],"scroll",l)}},{key:"render",value:function(){var a={};this.state.offset&&(a={top:this.state.offset.top+"px",left:this.state.offset.left+"px",position:"relative"});var c=d("cm-affix",{fixed:!!this.state.offset});return b.createElement("div",{ref:"affix",style:a,className:c},this.props.children)}}]),g}(g));a.exports=l});