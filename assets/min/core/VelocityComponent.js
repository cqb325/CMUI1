/** ! created at <%= grunt.template.today("yyyy-mm-dd") by cqb %> */
define(["module","utils/shallowEqual","utils/omit","react","react-dom","velocity"],function(a,b,c,d,e,f){"use strict";var g=d.createClass({displayName:"VelocityComponent",propTypes:{animation:d.PropTypes.any,children:d.PropTypes.element.isRequired,runOnMount:d.PropTypes.bool,targetQuerySelector:d.PropTypes.string},getDefaultProps:function(){return{animation:null,runOnMount:!1,targetQuerySelector:null}},componentDidMount:function(){this.runAnimation(),this.props.runOnMount!==!0&&this._finishAnimation()},componentWillUpdate:function(a,c){b(a.animation,this.props.animation)||(this._stopAnimation(),this._scheduleAnimation())},componentWillUnmount:function(){this._stopAnimation()},runAnimation:function(a){if(a=a||{},this._shouldRunAnimation=!1,this.isMounted()&&null!=this.props.animation){a.stop?f(this._getDOMTarget(),"stop",!0):a.finish&&f(this._getDOMTarget(),"finishAll",!0);var b=c(this.props,Object.keys(this.constructor.propTypes));f(this._getDOMTarget(),this.props.animation,b)}},_scheduleAnimation:function(){this._shouldRunAnimation||(this._shouldRunAnimation=!0,setTimeout(this.runAnimation,0))},_getDOMTarget:function(){var a=e.findDOMNode(this);return"children"===this.props.targetQuerySelector?a.children:null!=this.props.targetQuerySelector?a.querySelectorAll(this.props.targetQuerySelector):a},_finishAnimation:function(){f(this._getDOMTarget(),"finishAll",!0)},_stopAnimation:function(){f(this._getDOMTarget(),"stop",!0)},render:function(){return this.props.children}});a.exports=g});