/** ! created at <%= grunt.template.today("yyyy-mm-dd") by cqb %> */
define(["module","react","Core"],function(a,b,c){"use strict";function d(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function e(a){for(var b=arguments.length,c=Array(b>1?b-1:0),d=1;d<b;d++)c[d-1]=arguments[d];for(var e=0,f=c.length;e<f;e++){var g=Object.getOwnPropertyNames(c[e]||{});for(var h in g){var i=g[h];a[i]=c[e][i]}}return a}var f="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(a){return typeof a}:function(a){return a&&"function"==typeof Symbol&&a.constructor===Symbol?"symbol":typeof a},g=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),h=b.PropTypes,i=10,j=function(){function a(){d(this,a),this._events={},this._maxListeners=i}return g(a,[{key:"setMaxListeners",value:function(a){if(!c.isNumber(a)||a<0)throw TypeError("n must be a positive number");this._maxListeners=a}},{key:"emit",value:function(a){if(c.isUndefined(this._events)&&(this._events={}),"error"===a&&(!this._events.error||"object"===f(this._events.error)&&!this._events.error.length)){var b=arguments[1];throw b instanceof Error?b:TypeError('Uncaught, unspecified "error" event.')}var d=this._events[a];if(!c.isUndefined(d)){if(c.isFunction(d)){var e=arguments;return Array.prototype.splice.apply(e,[0,1]),d.apply(this,e)}if(c.isArray(d)){var g=arguments;Array.prototype.splice.apply(g,[0,1]);for(var h=d.length,i=void 0,j=0;j<h;j++)i=i&&d[j].apply(this,g);return i}}}},{key:"on",value:function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return this._addListener.apply(this,b)}},{key:"un",value:function(){for(var a=arguments.length,b=Array(a),c=0;c<a;c++)b[c]=arguments[c];return this._removeListener.apply(this,b)}},{key:"_addListener",value:function(a,b){var d;if(!c.isFunction(b))throw TypeError("listener must be a function");return this._events||(this._events={}),this._events[a]?c.isArray(this._events[a])?this._events[a].push(b):(this._events[a]=[this._events[a],b],"object"!==f(this._events[a])||this._events[a].warned||(d=this._maxListeners,d&&d>0&&this._events[a].length>d&&(this._events[a].warned=!0,console.error("(node) warning: possible EventEmitter memory leak detected. %d listeners added. Use emitter.setMaxListeners() to increase limit.",this._events[a].length),console.trace()))):this._events[a]=b,this}},{key:"once",value:function(a,b){function d(){this._removeListener(a,d),b.apply(this,arguments)}if(!c.isFunction(b))throw TypeError("listener must be a function");return d.listener=b,this.on(a,d),this}},{key:"_removeListener",value:function(a,b){var d,e,f,g;if(!c.isFunction(b))throw TypeError("listener must be a function");if(!this._events||!this._events[a])return this;if(d=this._events[a],f=d.length,e=-1,d===b||c.isFunction(d.listener)&&d.listener===b)delete this._events[a];else if(c.isArray(d)){for(g=f;g-- >0;)if(d[g]===b||d[g].listener&&d[g].listener===b){e=g;break}if(e<0)return this;1===d.length?(d.length=0,delete this._events[a]):d.splice(e,1)}return this}},{key:"removeAllListeners",value:function(a){var b;if(!this._events)return this;if(0===arguments.length){for(var d=Object.keys(this._events),e=0;e<d.length;e++){var f=d[e];this.removeAllListeners(f)}return this._events={},this}if(b=this._events[a],c.isFunction(b))this._removeListener(a,b);else for(;b.length;)this._removeListener(a,b[b.length-1]);return delete this._events[a],this}},{key:"listeners",value:function(a){var b=void 0;return b=this._events&&this._events[a]?c.isFunction(this._events[a])?[this._events[a]]:this._events[a].slice():[]}}],[{key:"extend",value:function(b){return e(b,new a,a.prototype)}},{key:"inherits",value:function(b){e(b.prototype,a.prototype),b.prototype.constructor=b}}]),a}();j.propTypes={_events:h.object,_maxListeners:h.number},a.exports=j});