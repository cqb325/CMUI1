/** ! created at <%= grunt.template.today("yyyy-mm-dd") by cqb %> */
define(["module","react","react-dom","classnames","Core","core/BaseComponent","internal/EnhancedButton"],function(a,b,c,d,e,f,g){"use strict";function h(a,b){if(!(a instanceof b))throw new TypeError("Cannot call a class as a function")}function i(a,b){if(!a)throw new ReferenceError("this hasn't been initialised - super() hasn't been called");return!b||"object"!=typeof b&&"function"!=typeof b?a:b}function j(a,b){if("function"!=typeof b&&null!==b)throw new TypeError("Super expression must either be null or a function, not "+typeof b);a.prototype=Object.create(b&&b.prototype,{constructor:{value:a,enumerable:!1,writable:!0,configurable:!0}}),b&&(Object.setPrototypeOf?Object.setPrototypeOf(a,b):a.__proto__=b)}var k=function(){function a(a,b){for(var c=0;c<b.length;c++){var d=b[c];d.enumerable=d.enumerable||!1,d.configurable=!0,"value"in d&&(d.writable=!0),Object.defineProperty(a,d.key,d)}}return function(b,c,d){return c&&a(b.prototype,c),d&&a(b,d),b}}(),l=function(a){function c(a){h(this,c);var b=i(this,Object.getPrototypeOf(c).call(this,a));return b.addState({data:a.data,activeIndex:a.activeIndex||0}),b}return j(c,a),k(c,[{key:"_selectTab",value:function(a){if(!a.active){var b=this.state.data,c=b.indexOf(a);a.active=!0;var d=this.state.activeIndex;b[d].active=!1,this.emit("beforeSelect",a),this.props.onBeforeSelect&&this.props.onBeforeSelect(a),this.setState({activeIndex:c}),this.emit("select",a),this.props.onSelect&&this.props.onSelect(a)}}},{key:"selectByIndex",value:function(a){a>0&&a<this.state.data.length&&this.setState({activeIndex:a})}},{key:"getItem",value:function(a){return this.state.data[a]}},{key:"getActiveItem",value:function(){return this.state.data[this.state.activeIndex]}},{key:"_getHeader",value:function(){var a=this.state.data,c=this.state.activeIndex;return a.map(function(a,e){var f=this;c==e&&(a.active=!0);var h=d({active:a.active});return b.createElement("li",{key:e,className:h,onClick:function(){f._selectTab(a)}},b.createElement(g,{initFull:!0,touchRippleColor:"rgba(0, 0, 0, 0.1)"},b.createElement("a",{href:"javascript:void(0)"},a.text)))},this)}},{key:"_getContent",value:function(){var a=this.state.data,c=this.state.activeIndex;return a.map(function(a,e){c==e&&(a.active=!0);var f=d("cm-tab-panel",{active:a.active}),g=a.component,h=b.createElement(g,{ref:a.id,data:a.data});return b.createElement("div",{key:e,className:f},h)},this)}},{key:"render",value:function(){var a=this.props,c=a.className,e=a.style;c=d("cm-tab",c);var f=this._getHeader(),g=this._getContent();return b.createElement("div",{className:c,style:e},b.createElement("ul",{className:"cm-tab-header"},f),b.createElement("div",{className:"cm-tab-content"},g))}}]),c}(f);a.exports=l});